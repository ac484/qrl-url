---

# ğŸ§  å…±é€šè¨­è¨ˆï¼ˆå…ˆè¨˜é€™å€‹å°±å¥½ï¼‰

æ‰€æœ‰æ±è¥¿éƒ½èµ°åŒä¸€æ¢ç·šï¼š

```
MEXC (WS / REST)
   â†“
infrastructure (adapter / mapper)
   â†“
application (QRL å°ˆç”¨ use case)
   â†“
interfaces (HTTP / WS)
   â†“
dashboard é é¢
```

ğŸ‘‰ **é é¢æ°¸é ä¸ç›´æ¥ç¢° MEXC**
ğŸ‘‰ **é é¢åªåƒã€Œå·²æ­£è¦åŒ–çš„ QRL å°ˆå±¬è³‡æ–™ã€**

---

## â‘  è¨‚å–®ï¼ˆæˆ‘çš„æ›å–® / æˆäº¤ï¼‰

### ğŸ“ Applicationï¼ˆQRL å°ˆç”¨ï¼‰

```
application/trading/qrl/
 â”œâ”€ list_qrl_orders.py
 â””â”€ list_qrl_trades.py
```

**ç”¨é€”**

* åªå›å‚³ QRL/USDT
* å·²è½‰æˆ domain entityï¼ˆOrder / Tradeï¼‰

```python
class ListQrlOrders:
    async def execute(self):
        return await self.exchange.list_orders(symbol="QRLUSDT")
```

---

### ğŸ“ Interfacesï¼ˆHTTP APIï¼‰

```
interfaces/http/api/trading_routes.py
```

```python
@router.get("/qrl/orders")
async def qrl_orders():
    orders = await list_qrl_orders.execute()
    return [
        {
            "id": o.order_id,
            "side": o.side.value,
            "price": str(o.price),
            "qty": str(o.quantity),
            "status": o.status.value,
        }
        for o in orders
    ]
```

---

### ğŸ“„ Dashboard é¡¯ç¤º

```html
<h3>æˆ‘çš„è¨‚å–®</h3>
<table>
  {% for o in orders %}
  <tr>
    <td>{{ o.side }}</td>
    <td>{{ o.price }}</td>
    <td>{{ o.qty }}</td>
    <td>{{ o.status }}</td>
  </tr>
  {% endfor %}
</table>
```

---

## â‘¡ äº¤æ˜“æ·±åº¦ï¼ˆOrder Book Snapshotï¼‰

### ğŸ“ Application

```
application/market/qrl/
 â””â”€ get_qrl_depth.py
```

å›å‚³çµæ§‹ï¼ˆå·²æ’åºã€å·²é™æª”ï¼‰ï¼š

```python
{
  "bids": [(price, qty), ...],
  "asks": [(price, qty), ...],
}
```

---

### ğŸ“ Infrastructureï¼ˆä½ å·²æœ‰ï¼‰

* `mexc_ws_client`
* `depth_mapper.py`

ğŸ“Œ **WS æ¥æ·±åº¦ï¼ŒREST ç•¶ snapshot**

---

### ğŸ“ Interfacesï¼ˆWSï¼‰

```
interfaces/http/api/ws_routes.py
```

```python
@router.websocket("/ws/qrl-depth")
async def qrl_depth_ws(ws):
    await ws.accept()
    async for depth in depth_stream:
        await ws.send_json(depth)
```

---

### ğŸ“„ Dashboardï¼ˆå¤šæª”è²·è³£ï¼‰

```html
<div class="orderbook">
  <div>
    <h4>è²·ç›¤</h4>
    <div id="bids"></div>
  </div>
  <div>
    <h4>è³£ç›¤</h4>
    <div id="asks"></div>
  </div>
</div>
```

```js
ws.onmessage = (e) => {
  const { bids, asks } = JSON.parse(e.data);
  render("bids", bids);
  render("asks", asks);
};
```

---

## â‘¢ å¤šæª”è²·åƒ¹ / è³£åƒ¹ï¼ˆTop Nï¼‰

å…¶å¯¦å°±æ˜¯ **äº¤æ˜“æ·±åº¦çš„å­é›†åˆ**
ğŸ‘‰ ä¸ç”¨æ–° API

### Application å±¤ç›´æ¥åšé™åˆ¶ï¼š

```python
TOP_N = 10
bids = bids[:TOP_N]
asks = asks[:TOP_N]
```

ğŸ“Œ **ä¸è¦åœ¨å‰ç«¯ sliceï¼ˆé¿å…è¢«èª¤ç”¨ï¼‰**

---

## â‘£ K ç·šï¼ˆè¡Œæƒ…è¶¨å‹¢ï¼‰

### ğŸ“ Application

```
application/market/qrl/
 â””â”€ get_qrl_kline.py
```

```python
async def execute(self, interval="1m", limit=100):
    return await self.exchange.get_klines(
        symbol="QRLUSDT",
        interval=interval,
        limit=limit,
    )
```

---

### ğŸ“ Interfacesï¼ˆHTTPï¼‰

```
GET /api/qrl/kline?interval=1m
```

---

### ğŸ“„ Dashboardï¼ˆæœ€ç°¡ç‰ˆï¼‰

```html
<canvas id="kline"></canvas>
```

```js
fetch("/api/qrl/kline")
  .then(r => r.json())
  .then(drawCandle);
```

ğŸ“Œ **å¯¦ç›¤ç›£æ§é ä¸ç”¨ TradingViewï¼Œç°¡å–®å³å¯**

---

# ğŸ§¾ QRL å¯¦ç›¤é é¢ã€Œæœ€å°å®Œæ•´çµ„åˆã€

| åŠŸèƒ½   | è³‡æ–™ä¾†æº      | å‚™è¨»       |
| ---- | --------- | -------- |
| æœ€æ–°åƒ¹æ ¼ | WS / REST | QrlPrice |
| å¤šæª”è²·è³£ | WS depth  | Top 10   |
| K ç·š  | REST      | 1m / 5m  |
| æˆ‘çš„è¨‚å–® | REST      | åƒ… QRL    |
| æˆäº¤å›å ± | WS        | å³æ™‚       |

---

# ğŸ”’ ç‚ºä»€éº¼é€™æ¨£å®‰å…¨

âœ” é é¢åªé¡¯ç¤ºï¼Œä¸å½±éŸ¿äº¤æ˜“
âœ” æ‰€æœ‰ symbol éƒ½åœ¨ application è¢«é–æ­»
âœ” WS æ›äº†ä»å¯ REST fallback
âœ” ä¸‹å–®é‚è¼¯å®Œå…¨ä¸åœ¨é é¢

---
