User request: Simplify logic with minimal surgical changes in /home/runner/work/qrl-url/qrl-url without altering behavior; focus on small refactors removing redundancy.
